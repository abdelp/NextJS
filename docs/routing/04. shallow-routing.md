# Shallow Routing

**What does shallow routing allow?**

Shallow routing allows you to change the URL without running data fetching methods again, that includes `getServerSideProps`, `getStaticProps`, and `getInitialProps`.

**How will you receive the updated `pathname` and the `query`?**

You'll receive the updated `pathname` and the `query` via the `router` object (added by `useRouter` or `withRouter`), without losing state.

**How can you enable shallow routing?**

To enable shallow routing, set the `shallow` option to `true`. Example:

```js
router.push('/?counter=10', undefined, { shallow: true })
```

The URL will get updated to `/?counter=10`. and the page won't get replaced, only the state of the route is changed.

## Caveats

**When does shallow routing only work?**

Shallow routing **only** works for URL changes in the current page.

**Will shallow routing used with middleware ensure the new page matches the current page like prevously done without middleware?**

No

**Why?**

This is due to middleware being able to rewrite dynamically and can't be verified client-side without a data fetch which is skipped with shallow, so a shallow route change must always be treated as shallow.