# Routing

**What's Next.js router based on?**

Next.js has a file-system based router built on the concept of pages.

**How are pages added as a route?**

When a file is added to the `pages` directory, it's automatically available as a route.

## Index routes

**How will index files be route by the router?**

The router will automatically route files named `index` to the root of the directory.

- `pages/index.js` -> `/`
- `pages/blog/index.js` -> `/blog`

## Nested routes

**How will files be routed in nested folder structure?**

The router supports nested files. If you create a nested folder structure, files will automatically be routed in the same way still.

- `pages/blog/first-post.js` -> `/blog/first-post`
- `pages/dashboard/settings/username.js` -> `/dashboard/settings/username`

## Dynamic route segments

**What you can do to match dynamic segments?**

To match a dynamic segment, you can use the bracket syntax. This allows you to match named parameters.

- `pages/blog/[slug].js` -> `/blog/:slug` (`/blog/hello-world`)
- `pages/[username]/settings.js` -> `/:username/settings` (`/foo/settings`)
- `pages/post/[...all].js` -> `/post/*` (`/post/2020/id/title`)

## Linking between pages

**When is the corresponding data for server-rendered routes fetched?**

The corresponding data for server-rendered routes is fetched only when the `<Link />` is clicked.

## Linking to dynamic paths

**String interpolation**

```js
<Link href={`/blog/${encodeURIComponent(post.slug)}`}>
  {post.title}
</Link>
```

**URL Object**

```js
<Link
  href={{
    pathname: '/blog/[slug]',
    query: { slug: post.slug },
  }}
>
  {post.title}
<Link>
```

## Injecting the router

**How can you access the router object in a React component?**

To access the `router` object in a React component you can use `useRouter` or `withRouter`.

In general it's recommended using `useRouter`.